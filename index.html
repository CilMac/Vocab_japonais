<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>🇯🇵 Vocabulaire Japonais — Kit 400</title>
  <link rel="preload" as="fetch" href="voc_kit_400_top.json" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <noscript>Cette application nécessite JavaScript.</noscript>

  <header class="topbar" role="banner">
    <div class="selectors" role="group" aria-label="Filtres d'interrogation">
      <label for="mode-select" class="sr-only">Mode</label>
      <select id="mode-select" aria-label="Mode d’interrogation">
        <option value="Français">Français → (deviner JA)</option>
        <option value="Romaji">Rōmaji → (deviner FR)</option>
        <option value="Kana">かな → (deviner FR)</option>
        <option value="Kanji">漢字 → (deviner FR)</option>
      </select>

      <label for="asavoir-select" class="sr-only">Importance</label>
      <select id="asavoir-select" aria-label="Filtre importance">
        <option value="__ALL__">Tous niveaux</option>
      </select>

      <label for="category-select" class="sr-only">Catégorie</label>
      <select id="category-select" aria-label="Filtre catégorie">
        <option value="__ALL__">Toutes catégories</option>
      </select>
    </div>

    <div class="voice-controls" role="group" aria-label="Voix japonaises">
      
      <button id="voice-preview-btn" aria-label="Pré-écoute de la voix sélectionnée" title="Pré-écoute">🔊</button>
      <span id="voice-status" aria-live="polite" class="badge">Détection...</span>
    </div>
  </header>

  <main id="app" role="main">
    <div id="loading-indicator" class="loading">Chargement…</div>
    <div id="error-message" class="error" role="alert" hidden></div>

    <section class="card word-zone" aria-label="Zone du mot">
      <div id="word-display" aria-live="polite">—</div>
    </section>

    <section class="nav" role="navigation" aria-label="Navigation des cartes">
      <button id="prev-btn" aria-label="Précédent">◀︎</button>
      <button id="random-btn" aria-label="Aléatoire">🎲</button>
      <button id="next-btn" aria-label="Suivant">▶︎</button>
    </section>

    <section class="answer" aria-label="Réponse optionnelle">
      <input id="answer-input" type="text" inputmode="text" autocomplete="off" placeholder="Ta réponse (optionnelle)" aria-label="Champ de réponse (optionnel)" />
      <button id="verify-btn" aria-label="Vérifier">Vérifier</button>
      <span id="checkmark" aria-hidden="true" class="checkmark" hidden>✓</span>
      <span id="crossmark" aria-hidden="true" class="crossmark" hidden>✗</span>
    </section>

    <section class="audio" aria-label="Prononciation">
      <button id="audio-word-btn" aria-label="Prononcer le mot">Mot 🔈</button>
<button id="voiceToggle" aria-pressed="false" aria-label="Basculer voix femme / homme" title="Voix femme / homme">👩</button>
      <button id="audio-example-btn" aria-label="Prononcer l’exemple">Exemple 🔈</button>
    </section>

    <section class="results" aria-label="Résultats">
      <div id="result-translations" class="card small"></div>
      <div id="result-example" class="card small"></div>
    </section>
  </main>

  <footer class="foot">
    <small>par CilMac :-)</small>
  </footer>

  <script defer src="app.js"></script>
</body>
</html>
